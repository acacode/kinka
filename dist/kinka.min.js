!(function(e, t) {
  'object' == typeof exports && 'object' == typeof module
    ? (module.exports = t())
    : 'function' == typeof define && define.amd
      ? define([], t)
      : 'object' == typeof exports ? (exports.kinka = t()) : (e.kinka = t())
})(window, function() {
  return (function(e) {
    var t = {}
    function r(o) {
      if (t[o]) return t[o].exports
      var n = (t[o] = { i: o, l: !1, exports: {} })
      return e[o].call(n.exports, n, n.exports, r), (n.l = !0), n.exports
    }
    return (
      (r.m = e),
      (r.c = t),
      (r.d = function(e, t, o) {
        r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: o })
      }),
      (r.r = function(e) {
        'undefined' != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
          Object.defineProperty(e, '__esModule', { value: !0 })
      }),
      (r.t = function(e, t) {
        if ((1 & t && (e = r(e)), 8 & t)) return e
        if (4 & t && 'object' == typeof e && e && e.__esModule) return e
        var o = Object.create(null)
        if (
          (r.r(o),
          Object.defineProperty(o, 'default', { enumerable: !0, value: e }),
          2 & t && 'string' != typeof e)
        )
          for (var n in e)
            r.d(
              o,
              n,
              function(t) {
                return e[t]
              }.bind(null, n)
            )
        return o
      }),
      (r.n = function(e) {
        var t =
          e && e.__esModule
            ? function() {
                return e.default
              }
            : function() {
                return e
              }
        return r.d(t, 'a', t), t
      }),
      (r.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
      }),
      (r.p = ''),
      r((r.s = 1))
    )
  })([
    function(e, t) {
      e.exports = {
        merge: function() {
          for (
            var e = {}, t = Array.prototype.slice.call(arguments), r = 0;
            r < t.length;
            r++
          )
            if ('object' == typeof t[r]) for (var o in t[r]) e[o] = t[r][o]
          return e
        },
        isObject: function(e) {
          return e && 'object' == typeof e
        },
        pick: function(e, t) {
          var r = {}
          for (var o in t) r[t[o]] = e[t[o]]
          return r
        },
      }
    },
    function(e, t, r) {
      const o = r(0),
        n = r(2),
        s = r(3)
      var u = o.isObject,
        i = o.merge,
        a = n.requestIsSuccess,
        c = n.getAbortableRequest,
        p = n.removeAbortableKey,
        f = n.setHeaders,
        l = n.getUrl,
        d = n.prepareBody,
        y = s.createResponse
      const b = { baseURL: location.origin, omitCatches: !0 }
      function h(e, t, r) {
        var o = r.abortableKey ? c(r.abortableKey) : new XMLHttpRequest()
        return new Promise(function(n, s) {
          ;(o.withCredentials = !!r.withAuth),
            (o.onreadystatechange = function() {
              switch (o.readyState) {
                case XMLHttpRequest.DONE:
                  var e = !a(o, r.successStatus),
                    t = y(o, e)
                  !r.omitCatches && e ? s(t) : n(t),
                    (o = null),
                    r.abortableKey && p(r.abortableKey)
              }
            }),
            o.open(e.toUpperCase(), l(t, r.baseURL, r.query), !0),
            u(r.headers) && f(o, r.headers),
            o.send(d(r.body))
        })
      }
      function v(e) {
        this.options = i(b, e)
        var t = this.options.customMethods
        if (t) for (var r in t) this[t[r]] = g(t[r])
      }
      function g(e) {
        return function(t, r) {
          return h(e, t, i(this.options, r))
        }
      }
      ;(v.prototype.get = g('get')),
        (v.prototype.options = g('options')),
        (v.prototype.head = g('head')),
        (v.prototype.post = (function(e) {
          return function(t, r, o) {
            var n = i(this.options, o, { body: r })
            return h(e, t, n)
          }
        })('post')),
        (v.prototype.put = g('put')),
        (v.prototype.patсh = g('patch')),
        (v.prototype.delete = g('delete')),
        (v.prototype.custom = function(e, t, r) {
          return h(e, t, i(this.options, r))
        }),
        (v.prototype.create = function(e) {
          return new v(e)
        }),
        (e.exports = window.kinka = new v())
    },
    function(e, t, r) {
      const o = r(0).isObject
      var n = {}
      e.exports = {
        getAbortableRequest: function(e) {
          return (
            n[e] && (n[e].abort(), delete n[e]),
            (n[e] = new XMLHttpRequest()),
            n[e]
          )
        },
        requestIsSuccess: function(e, t) {
          return t ? e.status === t : e.status >= 200 && e.status < 300
        },
        setHeaders: function(e, t) {
          const r = Object.keys(t)
          for (var o = 0; o < r.length; o++) e.setRequestHeader(r[o], t[r[o]])
        },
        getUrl: function(e, t, r) {
          var o = 'http' === e.substring(0, 4) ? e : t + e
          return r
            ? (function(e, t) {
                var r = e.split('?'),
                  o = r[0],
                  n = r[1] ? [r[1]] : []
                return (
                  Object.keys(t).forEach(function(e) {
                    n.push(e + '=' + t[e])
                  }),
                  o + '?' + n.join('&')
                )
              })(o, r)
            : o
        },
        removeAbortableKey: function(e) {
          ;(n[e] = null), delete n[e]
        },
        prepareBody: function(e) {
          return !o(e) || e instanceof FormData ? e : JSON.stringify(e)
        },
      }
    },
    function(e, t, r) {
      const o = r(0).pick
      function n(e) {
        try {
          return JSON.parse(e)
        } catch (t) {
          return e
        }
      }
      e.exports = {
        createResponse: function(e, t) {
          return {
            status: e.status,
            data: void 0 === e.responseText || t ? void 0 : n(e.responseText),
            err: t ? n(e.responseText) : void 0,
            isError: !!t,
            isSuccess: !t,
            type: e.responseType,
            original: o(
              e,
              console.log('fired') || ['response', 'responseText', 'statusText']
            ),
          }
        },
      }
    },
  ])
})
